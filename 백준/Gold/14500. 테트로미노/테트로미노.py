import sys
N, M = map(int, input().split())
paper = [list(map(int, input().split())) for _ in range(N)]

dxy = {
    "a" : [[[0, 1], [0, 2], [0, 3]], [[1, 0], [2, 0], [3, 0]]],
    "b" : [[[0, 1], [1, 0], [1, 1]]],
    "c" : [[[1, 0], [2, 0], [2, 1]], [[0, -1], [0, -2], [1, -2]], [[-1, 0], [-2, 0], [-2, -1]], [[0, 1], [0, 2], [-1, 2]]],
    "d" : [[[1, 0], [2, 0], [2, -1]], [[0, -1], [0, -2], [-1, -2]], [[-1, 0], [-2, 0], [-2, 1]], [[0, 1], [0, 2], [1, 2]]],
    "e" : [[[1, 0], [1, 1], [2, 1]], [[0, -1], [1, -1], [1, -2]]],
    "f" : [[[1, 0], [1, -1], [2, -1]], [[0, 1], [1, 1], [1, 2]]],
    "g" : [[[0, 1], [0, 2], [1, 1]], [[1, 0], [1, -1], [2, 0]], [[0, -1], [0, -2], [-1, -1]], [[-1, 0], [-2, 0], [-1, 1]]]
}

max_sum = 0
for x in range(N):
    for y in range(M):
        for a in dxy.values():
            for b in a:
                sum = paper[x][y]
                for c in b:
                    dx = c[0]
                    dy = c[1]
                    nx = x + dx
                    ny = y + dy
                    if 0<=nx<N and 0<=ny<M:
                        sum += paper[nx][ny]
                    else:
                        sum = 0
                        break
                
                if max_sum < sum:
                    max_sum = sum
print(max_sum)